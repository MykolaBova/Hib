




<!DOCTYPE html>
<html class="   ">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    
    <title>jajja/jorm</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png" />
    <meta property="fb:app_id" content="1401488693436528"/>

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="jajja/jorm" name="twitter:title" /><meta content="jorm - jORM is a Lightweight Java ORM" name="twitter:description" /><meta content="https://avatars3.githubusercontent.com/u/3650250?s=400" name="twitter:image:src" />
<meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars3.githubusercontent.com/u/3650250?s=400" property="og:image" /><meta content="jajja/jorm" property="og:title" /><meta content="https://github.com/jajja/jorm" property="og:url" /><meta content="jorm - jORM is a Lightweight Java ORM" property="og:description" />

    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="conduit-xhr" href="https://ghconduit.com:25035">
    <link rel="xhr-socket" href="/_sockets" />

    <meta name="msapplication-TileImage" content="/windows-tile.png" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="selected-link" value="repo_source" data-pjax-transient />
      <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="C1168C1E:5533:52EA24:53BBCD40" name="octolytics-dimension-request_id" /><meta content="5262614" name="octolytics-actor-id" /><meta content="MykolaBova" name="octolytics-actor-login" /><meta content="7fe519ae1013110d3309ae3aa164387e3197e2ee6cad4bb4f18df687da1c755d" name="octolytics-actor-hash" />
    

    
    
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico" />


    <meta content="authenticity_token" name="csrf-param" />
<meta content="M3uEWtqzdDPxlzT5cFqfcb3wnVxgGmCQUFOUUljALFZOU/wCBi5U41clZPcZSN4B7OtWGiEnCaeVo5aCkyn2lg==" name="csrf-token" />

    <link href="https://assets-cdn.github.com/assets/github-b86b560d4138567815944297e6bd9f0bb29e59eb.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://assets-cdn.github.com/assets/github2-1f93fbad56d4999b4bd61023e9223bc7cefcc4ca.css" media="all" rel="stylesheet" type="text/css" />
    


    <meta http-equiv="x-pjax-version" content="ed19e0eab4f15571830fea3227f861c3">

      
  <meta name="description" content="jorm - jORM is a Lightweight Java ORM" />


  <meta content="3650250" name="octolytics-dimension-user_id" /><meta content="jajja" name="octolytics-dimension-user_login" /><meta content="8320225" name="octolytics-dimension-repository_id" /><meta content="jajja/jorm" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="8320225" name="octolytics-dimension-repository_network_root_id" /><meta content="jajja/jorm" name="octolytics-dimension-repository_network_root_nwo" />

  <link href="https://github.com/jajja/jorm/commits/master.atom" rel="alternate" title="Recent Commits to jorm:master" type="application/atom+xml" />

  </head>


  <body class="logged_in  env-production windows vis-public">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      
      


      <div class="header header-logged-in true">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/" aria-label="Homepage">
  <span class="mega-octicon octicon-mark-github"></span>
</a>


    
    <a href="/notifications" aria-label="You have unread notifications" class="notification-indicator tooltipped tooltipped-s" data-hotkey="g n">
        <span class="mail-status unread"></span>
</a>

      <div class="command-bar js-command-bar  in-repository">
          <form accept-charset="UTF-8" action="/search" class="command-bar-form" id="top_search_form" method="get">

<div class="commandbar">
  <span class="message"></span>
  <input type="text" data-hotkey="s, /" name="q" id="js-command-bar-field" placeholder="Search or type a command" tabindex="1" autocapitalize="off"
    
    data-username="MykolaBova"
      data-repo="jajja/jorm"
      data-branch="master"
      data-sha="38d3ceceb43d8bf1cb8d986c58ece66e96f396ec"
  >
  <div class="display hidden"></div>
</div>

    <input type="hidden" name="nwo" value="jajja/jorm" />

    <div class="select-menu js-menu-container js-select-menu search-context-select-menu">
      <span class="minibutton select-menu-button js-menu-target" role="button" aria-haspopup="true">
        <span class="js-select-button">This repository</span>
      </span>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container" aria-hidden="true">
        <div class="select-menu-modal">

          <div class="select-menu-item js-navigation-item js-this-repository-navigation-item selected">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" class="js-search-this-repository" name="search_target" value="repository" checked="checked" />
            <div class="select-menu-item-text js-select-button-text">This repository</div>
          </div> <!-- /.select-menu-item -->

          <div class="select-menu-item js-navigation-item js-all-repositories-navigation-item">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" name="search_target" value="global" />
            <div class="select-menu-item-text js-select-button-text">All repositories</div>
          </div> <!-- /.select-menu-item -->

        </div>
      </div>
    </div>

  <span class="help tooltipped tooltipped-s" aria-label="Show command bar help">
    <span class="octicon octicon-question"></span>
  </span>


  <input type="hidden" name="ref" value="cmdform">

</form>
        <ul class="top-nav">
          <li class="explore"><a href="/explore">Explore</a></li>
            <li><a href="https://gist.github.com">Gist</a></li>
            <li><a href="/blog">Blog</a></li>
          <li><a href="https://help.github.com">Help</a></li>
        </ul>
      </div>

    

<ul id="user-links">
  <li>
    <a href="/MykolaBova" class="name">
      <img alt="Mykola Bova" class=" js-avatar" data-user="5262614" height="20" src="https://avatars3.githubusercontent.com/u/5262614?s=140" width="20" /> MykolaBova
    </a>
  </li>

  <li class="new-menu dropdown-toggle js-menu-container">
    <a href="#" class="js-menu-target tooltipped tooltipped-s" aria-label="Create new...">
      <span class="octicon octicon-plus"></span>
      <span class="dropdown-arrow"></span>
    </a>

    <div class="new-menu-content js-menu-content">
    </div>
  </li>

  <li>
    <a href="/settings/profile" id="account_settings"
      class="tooltipped tooltipped-s"
      aria-label="Account settings ">
      <span class="octicon octicon-tools"></span>
    </a>
  </li>
  <li>
    <form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="+yxGGFOuRzK+nYacZg1eJefFthWoqbXweZINyeiYEGxynEIOpcx3fENTl2Ea5tgx2QdDmxutXYbgNBv4I/hDjg==" /></div>
      <button class="sign-out-button tooltipped tooltipped-s" aria-label="Sign out">
        <span class="octicon octicon-sign-out"></span>
      </button>
</form>  </li>

</ul>

<div class="js-new-dropdown-contents hidden">
  

<ul class="dropdown-menu">
  <li>
    <a href="/new"><span class="octicon octicon-repo"></span> New repository</a>
  </li>
  <li>
    <a href="/organizations/new"><span class="octicon octicon-organization"></span> New organization</a>
  </li>


    <li class="section-title">
      <span title="jajja/jorm">This repository</span>
    </li>
      <li>
        <a href="/jajja/jorm/issues/new"><span class="octicon octicon-issue-opened"></span> New issue</a>
      </li>
</ul>

</div>


    
  </div>
</div>

      

        



      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        
<ul class="pagehead-actions">

    <li class="subscription">
      <form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="rw7oxuNOQ+Oeg4lZITxbxRVRrALue3kvOj4jt2AC49p1rQEM6wEp5QLpwTtQhltmOf7JaqZdML8ftootBarL8Q==" /></div>  <input id="repository_id" name="repository_id" type="hidden" value="8320225" />

    <div class="select-menu js-menu-container js-select-menu">
      <a class="social-count js-social-count" href="/jajja/jorm/watchers">
        4
      </a>
      <a href="/jajja/jorm/subscription"
        class="minibutton select-menu-button with-count js-menu-target" role="button" tabindex="0" aria-haspopup="true">
        <span class="js-select-button">
          <span class="octicon octicon-eye"></span>
          Watch
        </a>
      </span>

      <div class="select-menu-modal-holder">
        <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
          <div class="select-menu-header">
            <span class="select-menu-title">Notifications</span>
            <span class="octicon octicon-x js-menu-close"></span>
          </div> <!-- /.select-menu-header -->

          <div class="select-menu-list js-navigation-container" role="menu">

            <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                <h4>Not watching</h4>
                <span class="description">Be notified when participating or @mentioned.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye"></span>
                  Watch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                <h4>Watching</h4>
                <span class="description">Be notified of all conversations.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-eye"></span>
                  Unwatch
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

            <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <div class="select-menu-item-text">
                <input id="do_ignore" name="do" type="radio" value="ignore" />
                <h4>Ignoring</h4>
                <span class="description">Never be notified.</span>
                <span class="js-select-button-text hidden-select-button-text">
                  <span class="octicon octicon-mute"></span>
                  Stop ignoring
                </span>
              </div>
            </div> <!-- /.select-menu-item -->

          </div> <!-- /.select-menu-list -->

        </div> <!-- /.select-menu-modal -->
      </div> <!-- /.select-menu-modal-holder -->
    </div> <!-- /.select-menu -->

</form>
    </li>

  <li>
    

  <div class="js-toggler-container js-social-container starring-container ">

    <form accept-charset="UTF-8" action="/jajja/jorm/unstar" class="js-toggler-form starred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="yujltICFLM6UsehHRH6kgYPf41ALuL76nOiedHzEJnu1nriOQYnJUOcN0OBKsMMJvIoajCF/U+CxUOjBxD6V2w==" /></div>
      <button
        class="minibutton with-count js-toggler-target star-button"
        aria-label="Unstar this repository" title="Unstar jajja/jorm">
        <span class="octicon octicon-star"></span>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/jajja/jorm/stargazers">
          13
        </a>
</form>
    <form accept-charset="UTF-8" action="/jajja/jorm/star" class="js-toggler-form unstarred" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="authenticity_token" type="hidden" value="2aO1TfpDsDh/DE55MgAeGYqqPzwZbB8w8wSxHuuU4Q7ov7B2ALZMF91KlQRP9hxC8nGJ9Q287twEpH6ZYl1E8A==" /></div>
      <button
        class="minibutton with-count js-toggler-target star-button"
        aria-label="Star this repository" title="Star jajja/jorm">
        <span class="octicon octicon-star"></span>
        Star
      </button>
        <a class="social-count js-social-count" href="/jajja/jorm/stargazers">
          13
        </a>
</form>  </div>

  </li>


        <li>
          <a href="/jajja/jorm/fork" class="minibutton with-count js-toggler-target fork-button lighter tooltipped-n" title="Fork your own copy of jajja/jorm to your account" aria-label="Fork your own copy of jajja/jorm to your account" rel="nofollow" data-method="post">
            <span class="octicon octicon-repo-forked"></span>
            Fork
          </a>
          <a href="/jajja/jorm/network" class="social-count">1</a>
        </li>

</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="repo-label"><span>public</span></span>
          <span class="mega-octicon octicon-repo"></span>
          <span class="author"><a href="/jajja" class="url fn" itemprop="url" rel="author"><span itemprop="title">jajja</span></a></span><!--
       --><span class="path-divider">/</span><!--
       --><strong><a href="/jajja/jorm" class="js-current-repository js-repo-home-link">jorm</a></strong>

          <span class="page-context-loader">
            <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline js-new-discussion-timeline with-full-navigation ">
        <div class="repository-sidebar clearfix">
            

<div class="sunken-menu vertical-right repo-nav js-repo-nav js-repository-container-pjax js-octicon-loaders">
  <div class="sunken-menu-contents">
    <ul class="sunken-menu-group">
      <li class="tooltipped tooltipped-w" aria-label="Code">
        <a href="/jajja/jorm" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-pjax="true" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /jajja/jorm">
          <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

        <li class="tooltipped tooltipped-w" aria-label="Issues">
          <a href="/jajja/jorm/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-hotkey="g i" data-selected-links="repo_issues /jajja/jorm/issues">
            <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
            <span class='counter'>0</span>
            <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>        </li>

      <li class="tooltipped tooltipped-w" aria-label="Pull Requests">
        <a href="/jajja/jorm/pulls" aria-label="Pull Requests" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-hotkey="g p" data-selected-links="repo_pulls /jajja/jorm/pulls">
            <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
            <span class='counter'>0</span>
            <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>


        <li class="tooltipped tooltipped-w" aria-label="Wiki">
          <a href="/jajja/jorm/wiki" aria-label="Wiki" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-hotkey="g w" data-selected-links="repo_wiki /jajja/jorm/wiki">
            <span class="octicon octicon-book"></span> <span class="full-word">Wiki</span>
            <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>        </li>
    </ul>
    <div class="sunken-menu-separator"></div>
    <ul class="sunken-menu-group">

      <li class="tooltipped tooltipped-w" aria-label="Pulse">
        <a href="/jajja/jorm/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="pulse /jajja/jorm/pulse">
          <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped tooltipped-w" aria-label="Graphs">
        <a href="/jajja/jorm/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="repo_graphs repo_contributors /jajja/jorm/graphs">
          <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped tooltipped-w" aria-label="Network">
        <a href="/jajja/jorm/network" aria-label="Network" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-selected-links="repo_network /jajja/jorm/network">
          <span class="octicon octicon-repo-forked"></span> <span class="full-word">Network</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
    </ul>


  </div>
</div>

              <div class="only-with-full-nav">
                

  

<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><strong>HTTPS</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/jajja/jorm.git" readonly="readonly">
    <span class="url-box-clippy">
    <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://github.com/jajja/jorm.git" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  

<div class="clone-url "
  data-protocol-type="ssh"
  data-url="/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone">
  <h3><strong>SSH</strong> clone URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="git@github.com:jajja/jorm.git" readonly="readonly">
    <span class="url-box-clippy">
    <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="git@github.com:jajja/jorm.git" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  

<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><strong>Subversion</strong> checkout URL</h3>
  <div class="clone-url-box">
    <input type="text" class="clone js-url-field"
           value="https://github.com/jajja/jorm" readonly="readonly">
    <span class="url-box-clippy">
    <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://github.com/jajja/jorm" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a>,
      <a href="#" class="js-clone-selector" data-protocol="ssh">SSH</a>,
      or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
    <span class="octicon octicon-question"></span>
  </a>
</p>


  <a href="github-windows://openRepo/https://github.com/jajja/jorm" class="minibutton sidebar-button" title="Save jajja/jorm to your computer and use it in GitHub Desktop." aria-label="Save jajja/jorm to your computer and use it in GitHub Desktop.">
    <span class="octicon octicon-device-desktop"></span>
    Clone in Desktop
  </a>

                <a href="/jajja/jorm/archive/master.zip"
                   class="minibutton sidebar-button"
                   aria-label="Download jajja/jorm as a zip file"
                   title="Download jajja/jorm as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          

<span id="js-show-full-navigation"></span>

<div class="repository-meta js-details-container ">
    <div class="repository-description js-details-show">
      <p>jORM is a Lightweight Java ORM</p>
    </div>



</div>

<div class="capped-box overall-summary ">

  <div class="stats-switcher-viewport js-stats-switcher-viewport">
    <div class="stats-switcher-wrapper">
    <ul class="numbers-summary">
      <li class="commits">
        <a data-pjax href="/jajja/jorm/commits/master">
            <span class="num">
              <span class="octicon octicon-history"></span>
              247
            </span>
            commits
        </a>
      </li>
      <li>
        <a data-pjax href="/jajja/jorm/branches">
          <span class="num">
            <span class="octicon octicon-git-branch"></span>
            6
          </span>
          branches
        </a>
      </li>

      <li>
        <a data-pjax href="/jajja/jorm/releases">
          <span class="num">
            <span class="octicon octicon-tag"></span>
            6
          </span>
          releases
        </a>
      </li>

      <li>
        
  <a href="/jajja/jorm/graphs/contributors">
    <span class="num">
      <span class="octicon octicon-organization"></span>
      3
    </span>
    contributors
  </a>
      </li>
    </ul>

      <div class="repository-lang-stats">
        <ol class="repository-lang-stats-numbers">
          <li>
              <a href="/jajja/jorm/search?l=java">
                <span class="color-block language-color" style="background-color:#b07219;"></span>
                <span class="lang">Java</span>
                <span class="percent">100%</span>
              </a>
          </li>
        </ol>
      </div>
    </div>
  </div>

</div>

  <div class="tooltipped tooltipped-s" aria-label="Show language statistics">
    <a href="#"
     class="repository-lang-stats-graph js-toggle-lang-stats"
     style="background-color:#b07219">
  <span class="language-color" style="width:100%; background-color:#b07219;" itemprop="keywords">Java</span>
    </a>
  </div>




<div class="file-navigation in-mid-page">
  <a href="/jajja/jorm/find/master"
        class="js-show-file-finder minibutton empty-icon tooltipped tooltipped-s right"
        data-pjax
        data-hotkey="t"
        aria-label="Quickly jump between files">
    <span class="octicon octicon-list-unordered"></span>
  </a>
    <a href="/jajja/jorm/compare" aria-label="Compare, review, create a pull request" class="minibutton compact primary tooltipped tooltipped-s" aria-label="Compare &amp; review" data-pjax>
      <span class="octicon octicon-git-compare"></span>
    </a>

  

<div class="select-menu js-menu-container js-select-menu" >
  <span class="minibutton select-menu-button js-menu-target css-truncate" data-hotkey="w"
    data-master-branch="master"
    data-ref="master"
    title="master"
    role="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-x js-menu-close"></span>
      </div> <!-- /.select-menu-header -->

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div><!-- /.select-menu-tabs -->
      </div><!-- /.select-menu-filters -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/develop"
                 data-name="develop"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="develop">develop</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/develop-2.0"
                 data-name="develop-2.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="develop-2.0">develop-2.0</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/dnk-test"
                 data-name="dnk-test"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="dnk-test">dnk-test</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/eval"
                 data-name="eval"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="eval">eval</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/gh-pages"
                 data-name="gh-pages"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="gh-pages">gh-pages</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item selected">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/master"
                 data-name="master"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="master">master</a>
            </div> <!-- /.select-menu-item -->
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/1.0.5"
                 data-name="1.0.5"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="1.0.5">1.0.5</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/1.0.4"
                 data-name="1.0.4"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="1.0.4">1.0.4</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/1.0.3"
                 data-name="1.0.3"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="1.0.3">1.0.3</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/1.0.2"
                 data-name="1.0.2"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="1.0.2">1.0.2</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/1.0.1"
                 data-name="1.0.1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="1.0.1">1.0.1</a>
            </div> <!-- /.select-menu-item -->
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/jajja/jorm/tree/1.0.0"
                 data-name="1.0.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="1.0.0">1.0.0</a>
            </div> <!-- /.select-menu-item -->
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div> <!-- /.select-menu-list -->

    </div> <!-- /.select-menu-modal -->
  </div> <!-- /.select-menu-modal-holder -->
</div> <!-- /.select-menu -->



  <div class="breadcrumb"><span class='repo-root js-repo-root'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/jajja/jorm" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">jorm</span></a></span></span><span class="separator"> / </span><form action="/jajja/jorm/new/master" aria-label="Fork this project and create a new file" class="js-new-blob-form tooltipped tooltipped-e new-file-link" method="post"><span aria-label="Fork this project and create a new file" class="js-new-blob-submit octicon octicon-plus" data-test-id="create-new-git-file" role="button"></span></form></div>
</div>




  
  <div class="commit commit-tease js-details-container" >
    <p class="commit-title ">
        <a href="/jajja/jorm/commit/56596efc4c4eb0cae7e62878927770f42e624e0b" class="message" data-pjax="true" title="Add Patcher / FixedPGmoney">Add Patcher / FixedPGmoney</a>
        
    </p>
    <div class="commit-meta">
      <button aria-label="Copy SHA" class="js-zeroclipboard zeroclipboard-link" data-clipboard-text="56596efc4c4eb0cae7e62878927770f42e624e0b" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
      <a href="/jajja/jorm/commit/56596efc4c4eb0cae7e62878927770f42e624e0b" class="sha-block" data-pjax>latest commit <span class="sha">56596efc4c</span></a>

      <div class="authorship">
        <img alt="dnkz0r" class="gravatar js-avatar" data-user="3650680" height="20" src="https://avatars1.githubusercontent.com/u/3650680?s=140" width="20" />
        <span class="author-name"><a href="/dnkz0r" rel="contributor">dnkz0r</a></span>
        authored <time class="updated" datetime="2014-07-05T10:57:21+02:00" is="relative-time">July 05, 2014</time>

      </div>
    </div>
  </div>

  <div class="file-wrap">
    <table class="files" data-pjax>

      
<tbody class=""
  data-url="/jajja/jorm/file-list/master"
  data-deferred-content-error="Failed to load latest commit information.">

    <tr>
      <td class="icon">
        <span class="octicon octicon-file-directory"></span>
        <img alt="" class="spinner" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jajja/jorm/tree/master/src" class="js-directory-link" id="25d902c24283ab8cfbac54dfa101ad31-4961772e015b9621e3da43afc8d69decd343c217" title="src">src</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="/jajja/jorm/commit/56596efc4c4eb0cae7e62878927770f42e624e0b" class="message" data-pjax="true" title="Add Patcher / FixedPGmoney">Add Patcher / FixedPGmoney</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-07-05T08:57:21Z" is="time-ago">July 05, 2014</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jajja/jorm/blob/master/.gitignore" class="js-directory-link" id="a084b794bc0759e7a6b77810e01874f2-177197d3c40375470bd0ca65272d036a862a12fc" title=".gitignore">.gitignore</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="/jajja/jorm/commit/1051fa289e9b8c56c66d21455ba4f6f3b1b587cb" class="message" data-pjax="true" title="add bin to .gitignore">add bin to .gitignore</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2013-06-23T09:48:35Z" is="time-ago">June 23, 2013</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jajja/jorm/blob/master/LICENSE.md" class="js-directory-link" id="37854d19817c792316d481f5beb93cc7-1f2cc347b7f263a72e42f12726ef27207bb38999" title="LICENSE.md">LICENSE.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="/jajja/jorm/commit/5f831b26a2035c581461fb77ff28fbd0a11aa975" class="message" data-pjax="true" title="Create LICENSE.md">Create LICENSE.md</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2013-02-20T21:17:51Z" is="time-ago">February 20, 2013</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jajja/jorm/blob/master/README.md" class="js-directory-link" id="04c6e90faac2675aa89e2176d2eec7d8-7ffa6ad1e8528fbf2db93a38af9d198cc86f61b8" title="README.md">README.md</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="/jajja/jorm/commit/6254bcae7579e5d9abaf17e780948f5deee0b21a" class="message" data-pjax="true" title="Update README.md

1.0.5">Update README.md</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2013-06-27T11:25:33Z" is="time-ago">June 27, 2013</time></span>
      </td>
    </tr>
    <tr>
      <td class="icon">
        <span class="octicon octicon-file-text"></span>
        <img alt="" class="spinner" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
      </td>
      <td class="content">
        <span class="css-truncate css-truncate-target"><a href="/jajja/jorm/blob/master/pom.xml" class="js-directory-link" id="600376dffeb79835ede4a0b285078036-1ae96a6da770cd15638d69776ca0705b07a2cce3" title="pom.xml">pom.xml</a></span>
      </td>
      <td class="message">
        <span class="css-truncate css-truncate-target ">
          <a href="/jajja/jorm/commit/8d7b2621f24167d9756a3d3d97039cae6b55b84d" class="message" data-pjax="true" title="Go back to tomcat-jdbc 7, version 8 seems to be require java 7">Go back to tomcat-jdbc 7, version 8 seems to be require java 7</a>
        </span>
      </td>
      <td class="age">
        <span class="css-truncate css-truncate-target"><time datetime="2014-05-11T16:54:27Z" is="time-ago">May 11, 2014</time></span>
      </td>
    </tr>
</tbody>

    </table>
  </div>


  <div id="readme" class="clearfix announce instapaper_body md">
    <span class="name">
      <span class="octicon octicon-book"></span>
      README.md
    </span>

    <article class="markdown-body entry-content" itemprop="mainContentOfPage"><h1>
<a name="user-content-jorm" class="anchor" href="#jorm" aria-hidden="true"><span class="octicon octicon-link"></span></a>jORM</h1>

<p>jORM is a lightweight Java ORM. It does not aim at solving every database problem. It primarily cures the boilerplatisis that many Java solutions suffer from, while exposing the functionality of the JDBC through a convenient interface.</p>

<p>At <a href="http://www.jajja.com" title="Jajja Communications AB">Jajja</a> we've found that many applications have a need both for non teadious mapping of databases and for the full freedom of expression provided by raw SQL. This is an attempt to bridge the gap.</p>

<p>jORM has primarily been tested on Postgres, MySQL and MSSQL. Usage with other engines may lack some of the niftiness provided by the current dialect adoptions.</p>

<h2>
<a name="user-content-getting-started" class="anchor" href="#getting-started" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting started</h2>

<p>Would you like to be able to do the following without writing a single line of boilerplate?</p>

<pre><code>Goblin goblin = Record.findById(Goblin.class, 42);
goblin.setName("Azog");
goblin.save();
goblin.commit();
</code></pre>

<p>You will be done before you are halfway through <em>getting started</em>.</p>

<h3>
<a name="user-content-getting-the-code" class="anchor" href="#getting-the-code" aria-hidden="true"><span class="octicon octicon-link"></span></a>Getting the code</h3>

<p>Getting jORM to a public maven repo is one of the items on the timeline of the project. For now clone the git repo to get a fresh copy!</p>

<pre><code>&gt; git clone git://github.com/jajja/jorm.git
&gt; cd jorm
&gt; git checkout 1.0.5
&gt; mvn install
</code></pre>

<p>Then include the dependency to jORM in any project you are working on that needs a lightweight ORM.</p>

<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;com.jajja&lt;/groupId&gt;
    &lt;artifactId&gt;jorm&lt;/artifactId&gt;
    &lt;version&gt;1.0.5&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

<p>Now that you've got the code, let's see if we cannot conjure some cheap tricks!</p>

<h3>
<a name="user-content-configuring-database" class="anchor" href="#configuring-database" aria-hidden="true"><span class="octicon octicon-link"></span></a>Configuring database</h3>

<p>The database abstraction in jORM needs a <code>javax.sql.DataSource</code> data source. One recommended implementation is the Tomcat JDBC Connection Pool.</p>

<pre><code>DataSource moriaDataSource = new DataSource();
moriaDataSource.setDriverClassName("org.postgresql.Driver");
moriaDataSource.setUrl("jdbc:postgresql://localhost:5432/moria");
moriaDataSource.setUsername("gandalf");
moriaDataSource.setPassword("mellon");

Database.configure("moria", moriaDataSource);
</code></pre>

<p>This will configure the pooled data source as a named database. For all of those who prefer Spring Beans this can be achieved through a singleton factory method.</p>

<pre><code>&lt;bean id="moriaDataSource" class="org.apache.tomcat.jdbc.pool.DataSource" destroy-method="close"&gt;
    &lt;property name="driverClassname" value="org.postgresql.Driver" /&gt;
    &lt;property name="url" value="jdbc:postgresql://localhost:5432/moria" /&gt;
    &lt;property name="username" value="gandalf" /&gt;
    &lt;property name="password" value="mellon" /&gt;
&lt;/bean&gt;

&lt;bean class="com.jajja.jorm.Database" factory-method="get"&gt;
    &lt;property name="dataSources"&gt;
        &lt;map&gt;
            &lt;entry key="moria" value-ref="moriaDataSource" /&gt;
        &lt;/map&gt;
    &lt;/property&gt;
&lt;/bean&gt;
</code></pre>

<h3>
<a name="user-content-using-databases" class="anchor" href="#using-databases" aria-hidden="true"><span class="octicon octicon-link"></span></a>Using databases</h3>

<p>All database queries in jORM are executed through a thread local transaction. The first query begins the transaction. After that the transaction can be committed or closed, which implicitly rolls back the transaction.</p>

<pre><code>Transaction transaction = Database.open("moria");
try {
    transaction.select("UPDATE goblins SET mindset = 'provoked' RETURNING *");
    transaction.commit();
} catch (SQLException e) {
    // handle e
} finally {
    transaction.close();
}
</code></pre>

<p>The database has a shorthand to the thread local transactions. The above can also be expressed as below.</p>

<pre><code>try {
    Database.open("moria").select("UPDATE goblins SET mindset = 'provoked' RETURNING *");
    Database.commit("moria");
} catch (SQLException e) {
    // handle e
} finally {
    Database.close("moria");
}
</code></pre>

<p>If you are using multiple databases it may be a good idea to close all thread local transactions at the end of execution. This can be done by a single call.</p>

<pre><code>Database.close();
</code></pre>

<p>Maybe you were interested in something more than executing generic queries? Let's map a table!</p>

<h3>
<a name="user-content-mapping-tables" class="anchor" href="#mapping-tables" aria-hidden="true"><span class="octicon octicon-link"></span></a>Mapping tables</h3>

<p>In order to map a table we need to get an idea of how it is declared. Imagine a table was created using the following statement.</p>

<pre><code>CREATE TABLE goblins (
    id          serial    NOT NULL,
    tribe_id    int       NOT NULL    REFERENCES tribes(id),
    name        varchar   NOT NULL    DEFAULT 'Azog', 
    mindset     varchar,
    PRIMARY KEY (id),
    UNIQUE (tribe_id, name)
);
</code></pre>

<p>Tables are mapped by records with a little help by the <code>@Jorm</code> annotation. Records bind to the tread local transactions defined by the <code>database</code> attribute. The <code>table</code> attribute defines the mapped table, and the <code>id</code> attribute provides primary key functionality.</p>

<pre><code>@Jorm(database="moria", table="goblins", id="id")
public class Goblin extends Record {  
    public Integer getId() {
        return get("id", Integer.class);
    }
    public void setId(Integer id) {
        set("id", id);
    }
    public Integer getTribeId() {
        return get("tribe_id", Integer.class);
    }
    public void setTribeId(Integer id) {
        set("tribe_id", id);
    }
    public Tribe getTribe() {
        return get("tribe_id", Tribe.class);
    }
    public void setTribe(Tribe tribe) {
        set("tribe_id", tribe);
    }
    public String getName() {
        return get("name", String.class);
    }
    public void setName(String name) {
        set("name", name);
    }
    public String getMindset() {
        return get("mindset", String.class);
    }
    public void setMindset(String mindset) {
        set("mindset", mindset);
    }
}
</code></pre>

<p>Such records can be automatically generated by the <code>Generator</code> class. Note that the <code>Goblin#getTribe()</code> and <code>Goblin#setTribe()</code> methods refers to the <code>tribe_id</code> field of the mapped <code>Goblin</code> record, but <code>Tribe</code> record is also cached for subsequent references. Thus simple foreign keys can be mapped, but how would a tribe look?</p>

<pre><code>@Jorm(database="moria", table="tribes", id="id")
public class Tribe extends Record {
    public Integer getId() {
        return get("id", Integer.class);
    }
    public void setId(Integer id) {
        set("id", id);
    }
    public String getName() {
        return get("name", String.class);
    }
    public void setName(String name) {
        set("name", name);
    }
    public List&lt;Goblin&gt; getGoblins() throws SQLException {
        return findReferences(Goblin.class, "id");
    }
}
</code></pre>

<p>There is no default implementation of <code>Tribe#setGoblins(List&lt;Goblin&gt;)</code>. This is not because it is impossible to implement using jORM, but because at this point jORM makes no claim at providing a proper cache for one-to-many relations. There is however a cache implementation for records that could be used for methods like <code>Tribe#getGoblins()</code>. For now we'll just let it use a query for each access, and we'll get back to caching strategies.</p>

<p>Did you notice the <code>UNIQUE</code> constraint on goblins? It can be used to provide convenient methods for queries on goblins.</p>

<pre><code>public static Goblin findByTribeAndName(Tribe tribe, String name) throws SQLException {
    return find(Goblin.class, new Column("tribe_id", tribe), new Column("name", name));
}
</code></pre>

<p>If you prefer the write SQL this can also be achieved through manual queries.</p>

<pre><code>public static Goblin findByTribeAndName(Tribe tribe, String name) throws SQLException {
    return Record.select(Goblin.class, "SELECT * FROM goblins WHERE tribe_id = #1:id# AND name = #2#", tribe, name);
}
</code></pre>

<p>This should be where you've caught the glimpse of a tip of an iceberg, and should ask yourself. What else is there?</p>

<h3>
<a name="user-content-immutable-fields" class="anchor" href="#immutable-fields" aria-hidden="true"><span class="octicon octicon-link"></span></a>Immutable fields</h3>

<p>Sometimes a field in a record mapped from a table could just as well be immutable, such as <code>left_at</code> described in the following SQL create statement. Goblin litter is left at exactly one time, never picked up and never left again.</p>

<pre><code>CREATE TABLE litters (
    id          serial    NOT NULL,
    goblin_id   int       NOT NULL    REFERENCES goblins(id),
    stench      float     NOT NULL    CHECK (stench BETWEEN 0 AND 1),
    left_at     timestamp NOT NULL    DEFAULT now(),
    PRIMARY KEY (id)
);
</code></pre>

<p>Marking immutability for fields can be done by defining the <code>immutable</code> attribute in the <code>@Jorm</code> mapping. </p>

<pre><code>@Jorm(database="moria", table="litters", immutable={"left_at"})
public class Litter extends Record { 
    public Integer getId() {
        return get("id", Integer.class);
    }
    public void setId(Integer id) {
        set("id", id);
    }
    public Integer getGoblinId() {
        return get("goblin_id", Integer.class);
    }
    public void setGoblinId(Integer goblinId) {
        set("goblin_id", goblinId);
    }
    public Float getStench() {
        return get("stench", Float.class);
    }
    public void setStench(Float stench) {
        set("stench", stench);
    }
    public java.sql.Timestamp getLeftAt() {
        return get("left_at", java.sql.Timestamp.class);
    }
}
</code></pre>

<p>The <code>left_at</code> column will never change even if an explicit call to <code>Record#set(String, Object)</code> has been made.</p>

<h3>
<a name="user-content-rebranded-sql-exceptions" class="anchor" href="#rebranded-sql-exceptions" aria-hidden="true"><span class="octicon octicon-link"></span></a>Rebranded SQL exceptions</h3>

<p>If you have been wondering why the previous example had a check condition on <code>stench</code> in the create statement of <code>litters</code>, you are about to find out. The records rebrand <code>SQLException</code> through dialect specific adaptions, classifying known errors with specific types.</p>

<pre><code>try {
    litter.setStench(2);    // CHECK (stench BETWEEN 0 AND 1),  
    litter.save();
} catch (CheckViolationException e) {
    // handle exception
}
</code></pre>

<p>There are four specific types of exceptions and one generic base exception. If this sounds interesting chek out the section about exception handling.</p>

<h3>
<a name="user-content-queries-as-fields" class="anchor" href="#queries-as-fields" aria-hidden="true"><span class="octicon octicon-link"></span></a>Queries as fields</h3>

<p>Sometimes it can be convenient to have the ability to set fields of records to database queries. One of the most frequent queries usable in this context is <code>now()</code>, but it can be any valid query resulting in one row and one column. Let's extend <code>Goblin</code> with some random functionality!</p>

<pre><code>public void relieve() {
    Litter litter = new Litter();
    litter.set("stench", build("random() * 0.9")) ;
    litter.setGoblin(this);
}
</code></pre>

<p>The <code>Record#build(String, Object...)</code> method provides a query usable as a field value. Note that the goblin instance needs to be saved before the actual value can be accessed!</p>

<h2>
<a name="user-content-queries-and-sql-markup" class="anchor" href="#queries-and-sql-markup" aria-hidden="true"><span class="octicon octicon-link"></span></a>Queries and SQL markup</h2>

<p>Queries are expressed in a SQL with hash-markup. References to parameters are enclosed by two hashses (#), and use numbers to address parameters in order of appearance.</p>

<pre><code>Record.select("SELECT * FROM foo WHERE bar &lt; #1# AND #1# &lt; baz AND baz &lt; #2# ", 10, 100);
</code></pre>

<p>Quaries are implicitly created by <code>Record#select(String, Object...)</code>, but can also be explicitly created.</p>

<pre><code>Transaction transaction = Database.open("bar");
Dialect dialect = transaction.getDialect();
Query query = new Query(dialect, "SELECT * FROM foo WHERE bar &lt; #1# AND #1# &lt; baz AND baz &lt; #2# ", 10, 100);
</code></pre>

<p>Instances of <code>Record</code> wrap dialect retrieval in <code>Record#build(String, Object...)</code>, as a syntactic sugar to build queries shown in the previous section 'Queries as fields'.</p>

<h3>
<a name="user-content-tokens" class="anchor" href="#tokens" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tokens</h3>

<pre><code>#1#     - parameter 1, quoted as value
#:1#    - parameter 1, quoted as identifier
#!1#    - parameter 1, not quoted!
</code></pre>

<h3>
<a name="user-content-escaping" class="anchor" href="#escaping" aria-hidden="true"><span class="octicon octicon-link"></span></a>Escaping</h3>

<p>Hashes (#) can be quoted by double-hashing, i.e ##, ? cannot be escaped properly due to design flaws in the JDBC.</p>

<pre><code>Record.select("SELECT 1 ## 2");     // = "SELECT 1 # 2"
</code></pre>

<h3>
<a name="user-content-java-arrays" class="anchor" href="#java-arrays" aria-hidden="true"><span class="octicon octicon-link"></span></a>Java arrays</h3>

<pre><code>Integer[] ids = new Integer[]{1, 2, 3};
Record.select("SELECT * FROM foo WHERE id IN (#1#)", ids);
Record.select("SELECT * FROM foo WHERE id IN (#!1#)", ids); // No quoting performed!
</code></pre>

<h3>
<a name="user-content-java-collections" class="anchor" href="#java-collections" aria-hidden="true"><span class="octicon octicon-link"></span></a>Java collections</h3>

<pre><code>List&lt;String&gt; names = new LinkedList&lt;String&gt;();
names.add("John");
names.add("Doe");
Record.select("SELECT * FROM foo WHERE names IN (#1#)", names);
</code></pre>

<h3>
<a name="user-content-java-collections-1" class="anchor" href="#java-collections-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Java collections</h3>

<pre><code>List&lt;Record&gt; records = new LinkedList&lt;Record&gt;();
records.add(someRecord1);
records.add(someRecord2);
Record.select("SELECT * FROM foo WHERE names IN (#1:some_column#)", records);
</code></pre>

<h3>
<a name="user-content-java-maps" class="anchor" href="#java-maps" aria-hidden="true"><span class="octicon octicon-link"></span></a>Java maps</h3>

<pre><code>Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();
map.put("foo", 5);
map.put("bar", 3);
Record.select("SELECT * FROM foobars WHERE foo_id = #1:foo# OR bar_id = #1:bar#", map);
</code></pre>

<h3>
<a name="user-content-jorm-tables" class="anchor" href="#jorm-tables" aria-hidden="true"><span class="octicon octicon-link"></span></a>jORM tables</h3>

<pre><code>Record.select("SELECT * FROM #1# WHERE id = 5", table(Goblin.class));   // Modifier ignored, tables are always quoted as a identifiers
</code></pre>

<h3>
<a name="user-content-jorm-symbols" class="anchor" href="#jorm-symbols" aria-hidden="true"><span class="octicon octicon-link"></span></a>jORM symbols</h3>

<pre><code>Record.select("SELECT * FROM foo WHERE #1# = 5", Symbol.get("id")); // Modifier ignored, Symbols are always quoted as identifiers
</code></pre>

<h3>
<a name="user-content-nested-jorm-queries" class="anchor" href="#nested-jorm-queries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Nested jORM queries</h3>

<pre><code>Transaction transaction = Database.open("moria");
Dialect dialect = transaction.getDialect();
Query subQuery = new Query(dialect, "SELECT id FROM bar WHERE baz LIKE #1#", "%moo%");
Query query = new Query(dialect, "SELECT * FROM foo WHERE bar_id IN (#1#)", subQuery);
</code></pre>

<h2>
<a name="user-content-transaction-lifecycle" class="anchor" href="#transaction-lifecycle" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transaction lifecycle</h2>

<p>Transactions opened to a database are thread local and there is atmost one transaction for each named database (which may be exploited by providing more than one name for a single logical database). These transactions need to be closed at the logical end of execution. A web server may typically reuse threads for subsequent request, making the end of a request the logical end of execution. Any other application  reusing threads need the corresponding adaptions described throughout this section.</p>

<h3>
<a name="user-content-transaction-access" class="anchor" href="#transaction-access" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transaction access</h3>

<p>The safest way of ensuring transaction lifecycle through an application reusing threads is to manually close the connection within the scope of the change to the database.</p>

<pre><code>Transaction transaction = Database.open("moria");
try {
    // do stuff 
    transaction.commit();
} catch (SQLException e) {
    // handle exception
} finally {
    transaction.close();
}
</code></pre>

<p>However, code modularization can make passing of references to transactions cumbersome. For this reason transactions can be uniquely accessed through the named database, in the context of the current thread.</p>

<pre><code>Database.open("moria");
try {
    // do stuff
    Database.commit("moria");
} catch (SQLException e) {
    // handle exception
} finally {
    Database.close("moria");
}
</code></pre>

<p>There is conveniently wrapped by static methods of the record, using <code>@Jorm</code> annotations to define named datbases.</p>

<pre><code>Record.open(Goblin.class);
try {
    // do stuff
    Record.commit(Goblin.class);
} catch (SQLException e) {
    // handle exception
} finally {
    Record.close(Goblin.class);
}
</code></pre>

<p>Transactions are even available through record instances, which can sometimes be convenient. Note that any record may act as reference to the thread local transaction possibly shared by multiple records.</p>

<pre><code>Record context = null
try {
    // do stuff
    if (context != null) context.commit();
} catch (SQLException e) {
    // handle exception
} finally {
    if (context != null) context.close();
    // else what?
}
</code></pre>

<p>This last example points to the fact that execution is not always predictable. In most applications a runtime exception may occurr depending on user input or other uncontrolled circumstances.</p>

<pre><code>try {
    // do unpredictable stuff
} finally {
    Database.close();
    // release thread
}
</code></pre>

<p>The above example closes all thread local transactions are releasing the current thread to its imagined thread pool. It may be considered good practice to build this into your applications execution lifecycle.</p>

<h3>
<a name="user-content-transaction-savepoints" class="anchor" href="#transaction-savepoints" aria-hidden="true"><span class="octicon octicon-link"></span></a>Transaction savepoints</h3>

<p>For some types of problems it may be beneficial to make use of savepoints. For this reason the savepoints of JDBC are wrapped by transactions.</p>

<pre><code>Transation transaction = Database.open("moria");
try {
    Goblin azog = new Goblin("Azog");
    Tribe tribe = Record.findById(Tribe.class, 1);
    azog.setTribe(tribe);
    Savepoint savepoint = transaction.save();
    try {
        azog.save();
        transaction.release(savepoint);
    } catch (UniqueViolationException) {
        transaction.rollback(savepoint);
        azog = findByTribeAndName(tribe, "Azog");
    }
    // do more stuff
    transaction.commit();
} catch (SQLException e) {
    // handle exception
} finally {
    transaction.close();
}
</code></pre>

<p>Note that not every database engine supports release of savepoints. MSSQL only supports rollback, and there is more to read about engine/driver specific behaviour in the next section!</p>

<h2>
<a name="user-content-database-engines" class="anchor" href="#database-engines" aria-hidden="true"><span class="octicon octicon-link"></span></a>Database engines</h2>

<p>jORM has been tested on Postgres, MySQL and MSSQL. If you have a license to a database engine and would like to contribute, please feel free to contact the authors.</p>

<h3>
<a name="user-content-is-jorm-database-agnostic" class="anchor" href="#is-jorm-database-agnostic" aria-hidden="true"><span class="octicon octicon-link"></span></a>Is jORM database agnostic?</h3>

<p>The not so simple answer is <em>yes and no</em>! The library should be able to execute database agnostically using the JDBC as abstraction. However, jORM takes advantage of engine specific functionality. For instance Postgres is the only database engine supporting the <code>RETURNING</code> clause (that we've stumbled across so far), and thus Postgres integrations using jORM do not need to query for results explicitly after an insert or update. </p>

<p>There are also targeted fixes patching unexpected behaviour in specific JDBC-implementations. Any database engines that have not been validated might just as well contain similar problems in their respecitve implementations of the JDBC.</p>

<p>One thing that will differ if using another database egine is a rebrand strategy for <code>SQLException</code> that jORM use to classify different types of SQL errors. These are only available for Postgres, MySQL and MSSQL at this moment. More about this will appear in the nondistant future.</p>

<h2>
<a name="user-content-to-be-continued" class="anchor" href="#to-be-continued" aria-hidden="true"><span class="octicon octicon-link"></span></a>To be continued..</h2>

<p>This README will be updated with more advanced and in-depth examples of how to best make use of jORM. One of the first things on our TODO list is to document the SQL markup syntax for queries through records and transactions properly.</p></article>
  </div>


        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com">API</a></li>
      <li><a href="http://training.github.com">Training</a></li>
      <li><a href="http://shop.github.com">Shop</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/about">About</a></li>

    </ul>

    <a href="/">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
    </a>

    <ul class="site-footer-links">
      <li>&copy; 2014 <span title="0.05864s from github-fe116-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="/site/terms">Terms</a></li>
        <li><a href="/site/privacy">Privacy</a></li>
        <li><a href="/security">Security</a></li>
        <li><a href="/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-x close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-df9e4beac80276ed3dfa56be0d97b536d0f5ee12.js" type="text/javascript"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-4dae7ad8812a1fe19e9bc054358e98167a15ee4e.js" type="text/javascript"></script>
      
      
        <script async src="https://www.google-analytics.com/analytics.js"></script>
  </body>
</html>

